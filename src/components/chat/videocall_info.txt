ğŸ§  What this does
getUserMedia â†’ asks permission
Returns a MediaStream
srcObject â†’ streams video into <video>

5ï¸âƒ£ Step 3: Understand WebRTC roles (very important)
When two users call:
| Role   | Meaning                |
| ------ | ---------------------- |
| Caller | User who clicks "Call" |
| Callee | User who receives call |

They exchange:
-Offer
-Answer
-ICE candidates
âš ï¸ They do NOT connect directly via socket
Socket is only for signaling

ğŸ§© What WebRTC needs to connect two users
Each side must exchange 3 things:
Offer â†’ â€œHereâ€™s how I can talkâ€
Answer â†’ â€œHereâ€™s how I respondâ€
ICE candidates â†’ â€œHere are my network pathsâ€
Sockets deliver these.


When the other user sends media
WebRTC fires ontrack
We attach it to <video>

peerRef.current = createPeerConnection();
stream.getTracks().forEach((track) => {
  peerRef.current.addTrack(track, stream);
});
track = audio or video
This tells WebRTC: â€œSend this to the other userâ€

ğŸ”‘ Why here?
WebRTC rules:
Get media
Create RTCPeerConnection
Add tracks
Create offer
Set local description
Send offer via signaling (socket)

CALLER                          CALLEE
------                          ------
getUserMedia                    getUserMedia
createPeerConnection            createPeerConnection
addTrack                        addTrack
createOffer   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  setRemoteDescription
setLocalDesc                    createAnswer
send offer                      setLocalDescription
                                send answer
setRemoteDesc â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  (done)



Why?
peerRef is a React ref
listeners.js is NOT a React component
It has no access to that ref
ğŸ§  Rule
WebRTC peer connection MUST live in the same place as the <video> elements.
You cannot control video streams from Redux or socket listeners.


Socket receives signal
        â†“
callSignal forwards
        â†“
VideoCall handles it
        â†“
RTCPeerConnection updates
        â†“
<video> updates
